kind: container
metadata:
  name: elaborate-geological-data
  description: Function to elaborate landslide monitoring data using Sentinel-1 imagery
  version: 0.14.6  
  labels:
    - 'license:apache-2.0'
    - 'domain:geo'
    - 'application:pa'
    - 'aspect:security'
    - 'platform:0.14'
    - 'type:job'
    - 'phase:feature-extraction'
name: elaborate-geological-data
spec:
  image: ghcr.io/tn-aixpa/rs-landslide-monitoring:0.14.6
  command: python
---
kind: container+job
spec:
  template:
     args:
       - /shared/launch.sh
       - s1_ascending_landslide_2020-10-01_2021-01-01
       - s1_descending_landslide_2020-10-01_2021-01-01
       - 2020-10-01
       - 2021-01-01
       - landslide_2020-10-01_2021-01-01
       - Shapes_TN
       - ammprv_v.shp
       - Map
       - POLYGON ((10.595369 45.923394, 10.644894 45.923394, 10.644894 45.945838,
         10.595369 45.945838, 10.595369 45.923394))
  volumes:
    - name: volume-land
      spec:
        size: 800Gi
      volume_type: persistent_volume_claim
      mount_path: /app/data
  envs:
    - name: TMPDIR
      value: /app/data
  resources:
    cpu: "6"
    mem: 64Gi
  fs_group: 8877
  command: /bin/bash
