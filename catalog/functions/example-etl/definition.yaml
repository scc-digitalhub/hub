kind: python
metadata:
  name: Example ETL (Python Job)
  version: 1.0.0
  description: "A simple extract transform load (ETL) procedure in Python that downloads a csv file and then returns the result as a dataframe that is stored in the project repository as table(data-item)." 
  labels: # key-value pairs to classify the function
    - "license:apache-2.0"
    - "domain:tabular"
    - "platform:0.14"
    - "type:job"
    - "phase:data-preparation"
name: example-etl
spec:
  python_version: PYTHON3_10
  source:
    base64: aW1wb3J0IHBhbmRhcyBhcyBwZApmcm9tIGRpZ2l0YWxodWJfcnVudGltZV9weXRob24gaW1wb3J0IGhhbmRsZXIKCiMgVVJMPSJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGF0YXNldHMvd29ybGQtY2l0aWVzL3JlZnMvaGVhZHMvbWFpbi9kYXRhL3dvcmxkLWNpdGllcy5jc3YiCgpAaGFuZGxlcigpI291dHB1dHM9WyJ3b3JsZC1jaXRpZXMiXQpkZWYgZG93bmxvYWRfYW5kX3Byb2Nlc3MocHJvamVjdCwgdXJsLCBvdXRwdXRfdGFibGUpOgogICAgZGYgPSBwZC5yZWFkX2Nzdih1cmwpCiAgICBkZi5yZXNldF9pbmRleChpbnBsYWNlPVRydWUpCiAgICBwcm9qZWN0LmxvZ19kYXRhaXRlbShuYW1lPW91dHB1dF90YWJsZSwga2luZD0ndGFibGUnLCBkYXRhPWRmKQogICAgI3JldHVybiBkZg==
    lang: python
---
kind: "python+job"
spec: 
  template:
    parameters:
      url: https://raw.githubusercontent.com/datasets/world-cities/refs/heads/main/data/world-cities.csv
      output_table: world-cities

    