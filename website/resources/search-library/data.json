{
    "datasets": [],
    "functions": [
        {
            "kind": "python",
            "metadata": {
                "name": "Cancer Classfier Training (MLFlow example)",
                "version": "1.0.0",
                "description": "Train a cancer classifier ML model using MLFlow framework to structure and represent the model data. The trained model then can be deployed with the MLFlowServe framework or used for batch classifications loading it using the MLFlow framework.",
                "labels": [
                    "license:apache-2.0",
                    "platform:0.14",
                    "type:job",
                    "phase:model-training",
                    "framework:sklearn",
                    "application:healthcare"
                ]
            },
            "name": "cancer-classfier-training-mlflow-example",
            "spec": {
                "python_version": "PYTHON3_10",
                "source": "src/train.py"
            },
            "path": "cancer-classfier-training-mlflow-example"
        },
        {
            "kind": "container",
            "metadata": {
                "name": "Download Sentinel Data",
                "description": "Function for Sentinel image download and preprocessing",
                "version": "0.14.6",
                "labels": [
                    "license:apache-2.0",
                    "domain:geo",
                    "application:pa",
                    "platform:0.14",
                    "type:job",
                    "phase:data-preparation"
                ]
            },
            "name": "download-sentinel-data",
            "spec": {
                "image": "ghcr.io/tn-aixpa/sentinel-tools:0.14.6",
                "command": "python"
            },
            "path": "download-sentinel-data"
        },
        {
            "name": "echoService",
            "metadata": {
                "name": "Echo Service",
                "version": "1.0.0",
                "description": "A simple python-based API responding to a POST message with the \"text\" field. The function exposes an API using \"serve\" task.",
                "labels": [
                    "license:apache-2.0",
                    "platform:0.14",
                    "type:service",
                    "phase:utility",
                    "inference:custom"
                ]
            },
            "kind": "python",
            "spec": {
                "python_version": "PYTHON3_10",
                "source": {
                    "handler": "serve",
                    "base64": "aW1wb3J0IGpzb24KCmRlZiBpbml0KGNvbnRleHQpOgogICAgcHJpbnQoInNvbWUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24iKQogICAgc2V0YXR0cihjb250ZXh0LCAidmFsdWUiLCAic29tZSB2YWx1ZSIpCgpkZWYgc2VydmUoY29udGV4dCwgZXZlbnQpOgoKICAgIGlmIGlzaW5zdGFuY2UoZXZlbnQuYm9keSwgYnl0ZXMpOgogICAgICAgIGJvZHkgPSBqc29uLmxvYWRzKGV2ZW50LmJvZHkpCiAgICBlbHNlOgogICAgICAgIGJvZHkgPSBldmVudC5ib2R5CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKGYiUmVjZWl2ZWQgZXZlbnQ6IHtib2R5fSIpCiAgICB0ZXh0ID0gYm9keVsidGV4dCJdCgogICAgcmV0dXJuIHsicmVzdWx0IjogZiJoZWxsbyB7dGV4dH0gZnJvbSAne2NvbnRleHQudmFsdWV9JyJ9",
                    "lang": "python",
                    "init_function": "init"
                }
            },
            "path": "echo-service"
        },
        {
            "kind": "container",
            "metadata": {
                "name": "Elaborate Flood Data",
                "description": "Function to elaborate flood data using Sentinel-1 and Sentinel-2 imagery",
                "version": "0.14.6",
                "labels": [
                    "license:apache-2.0",
                    "domain:geo",
                    "application:pa",
                    "aspect:security",
                    "platform:0.14",
                    "type:job",
                    "phase:feature-extraction"
                ]
            },
            "name": "elaborate-flood-data",
            "spec": {
                "image": "ghcr.io/tn-aixpa/rs-flood-mapping:0.14.6",
                "command": "python"
            },
            "path": "elaborate-flood-data"
        },
        {
            "name": "elaborate-forest-data",
            "kind": "container+job:run",
            "metadata": {
                "name": "elaborate-forest-data",
                "description": "Function to elaborate deforestation data using Sentinel-2 imagery",
                "version": "latest",
                "labels": [
                    "Deforestation Mapping",
                    "Remote Sensing"
                ]
            },
            "spec": {
                "args": [
                    "/shared/launch.sh",
                    "bosco",
                    "data_s2_2018_19_tps",
                    "[2018,2019]",
                    "deforestation_2018_19_tps"
                ],
                "image": "ghcr.io/tn-aixpa/rs-deforestation:0.14.6",
                "volumes": [
                    {
                        "name": "volume-deforestation",
                        "spec": {
                            "size": "250Gi"
                        },
                        "volume_type": "persistent_volume_claim",
                        "mount_path": "/app/data"
                    }
                ],
                "envs": [
                    {
                        "name": "TMPDIR",
                        "value": "/app/data"
                    }
                ],
                "resources": {
                    "cpu": "6",
                    "mem": "64Gi"
                },
                "source": {
                    "source": "launch.sh",
                    "base64": "IyEvYmluL2Jhc2gKbHMgLWxhIC9zaGFyZWQKY2Qgfgpwd2QKc291cmNlIC5iYXNocmMKZWNobyAiR0RBTCB2ZXJzaW9uOiIKZ2RhbC1jb25maWcgLS12ZXJzaW9uCnB5dGhvbiAtLXZlcnNpb24KZWNobyAiR0RBTCBEQVRBOiIKZWNobyAkR0RBTF9EQVRBCmVjaG8gIlBST0pfTElCIgplY2hvICRQUk9KX0xJQgpjZCAvYXBwCmVjaG8gInsnc2hhcGVBcnRpZmFjdE5hbWUnOiAnJDEnLCAnZGF0YUFydGlmYWN0TmFtZSc6ICckMicsICd5ZWFycyc6JDMsICdvdXRwdXRBcnRpZmFjdE5hbWUnOiAnJDQnfSIKZXhwb3J0IFBST0pfTElCPS9ob21lL25vbnJvb3QvbWluaWZvcmdlMy9zaGFyZS9wcm9qCmV4cG9ydCBHREFMX0RBVEE9L2hvbWUvbm9ucm9vdC9taW5pZm9yZ2UzL3NoYXJlL2dkYWwKI2V4cG9ydCBQQVRIPSIvaG9tZS9ub25yb290L21pbmlmb3JnZTMvc25hcC8uc25hcC9hdXhkYXRhL2dkYWwvZ2RhbC0zLTAtMC9iaW4vOiRQQVRIIgplY2hvICJHREFMIERBVEEgQUZURVIgRVhQT1JUOiIKZWNobyAkR0RBTF9EQVRBCmVjaG8gIlBST0pfTElCIEFGVEVSIEVYUE9SVCIKZWNobyAkUFJPSl9MSUIKcHl0aG9uIG1haW4ucHkgInsnc2hhcGVBcnRpZmFjdE5hbWUnOiAnJDEnLCAnZGF0YUFydGlmYWN0TmFtZSc6ICckMicsICd5ZWFycyc6JDMsICdvdXRwdXRBcnRpZmFjdE5hbWUnOiAnJDQnfSIKZXhpdA=="
                },
                "fs_group": 8877,
                "command": "/bin/bash",
                "local_execution": false
            },
            "path": "elaborate-forest-data"
        },
        {
            "kind": "container",
            "metadata": {
                "name": "Elaborate Geological Data",
                "description": "Function to elaborate landslide monitoring data using Sentinel-1 imagery",
                "version": "0.14.6",
                "labels": [
                    "license:apache-2.0",
                    "domain:geo",
                    "application:pa",
                    "aspect:security",
                    "platform:0.14",
                    "type:job",
                    "phase:feature-extraction"
                ]
            },
            "name": "elaborate-geological-data",
            "spec": {
                "image": "ghcr.io/tn-aixpa/rs-landslide-monitoring:0.14.6",
                "command": "python"
            },
            "path": "elaborate-geological-data"
        },
        {
            "kind": "python",
            "metadata": {
                "name": "Hello World",
                "version": "1.0.0",
                "description": "Hello world with python: write a string to stdout",
                "labels": [
                    "license:apache-2.0",
                    "platform:0.14",
                    "type:job",
                    "phase:utility"
                ]
            },
            "name": "hello-world",
            "spec": {
                "python_version": "PYTHON3_10",
                "requirements": [
                    "scikit-learn==1.5.0",
                    "mlflow==2.15.1"
                ],
                "source": {
                    "handler": "train",
                    "base64": "ZnJvbSBkaWdpdGFsaHViX3J1bnRpbWVfcHl0aG9uIGltcG9ydCBoYW5kbGVyCgpmcm9tIGRpZ2l0YWxodWIgaW1wb3J0IGZyb21fbWxmbG93X3J1bgppbXBvcnQgbWxmbG93Cgpmcm9tIHNrbGVhcm4gaW1wb3J0IGRhdGFzZXRzLCBzdm0KZnJvbSBza2xlYXJuLm1vZGVsX3NlbGVjdGlvbiBpbXBvcnQgR3JpZFNlYXJjaENWCgpAaGFuZGxlcigpCmRlZiB0cmFpbihwcm9qZWN0KToKICAgIG1sZmxvdy5za2xlYXJuLmF1dG9sb2cobG9nX2RhdGFzZXRzPVRydWUpCgogICAgaXJpcyA9IGRhdGFzZXRzLmxvYWRfaXJpcygpCiAgICBwYXJhbWV0ZXJzID0geyJrZXJuZWwiOiAoImxpbmVhciIsICJyYmYiKSwgIkMiOiBbMSwgMTBdfQogICAgc3ZjID0gc3ZtLlNWQygpCiAgICBjbGYgPSBHcmlkU2VhcmNoQ1Yoc3ZjLCBwYXJhbWV0ZXJzKQoKICAgIGNsZi5maXQoaXJpcy5kYXRhLCBpcmlzLnRhcmdldCkKICAgIHJ1bl9pZCA9IG1sZmxvdy5sYXN0X2FjdGl2ZV9ydW4oKS5pbmZvLnJ1bl9pZAoKICAgICMgdXRpbGl0eSB0byBtYXAgbWxmbG93IHJ1biBhcnRpZmFjdHMgdG8gbW9kZWwgbWV0YWRhdGEKICAgIG1vZGVsX3BhcmFtcyA9IGZyb21fbWxmbG93X3J1bihydW5faWQpCgogICAgcHJvamVjdC5sb2dfbW9kZWwoCiAgICAgICAgbmFtZT0ibW9kZWwtbWxmbG93IiwKICAgICAgICBraW5kPSJtbGZsb3ciLAogICAgICAgICoqbW9kZWxfcGFyYW1zCik=",
                    "lang": "python"
                }
            },
            "path": "hello-world"
        }
    ],
    "models": []
}
